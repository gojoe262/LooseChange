<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <!--Javascript Files-->
        <script type="text/javascript" src="js/shared/jquery/jquery-2.1.4.js"></script>
        <script type="text/javascript" src="js/shared/data-access/gdrive.js"></script>
        <script type="text/javascript" src="https://apis.google.com/js/client.js"></script>
        <script type="text/javascript" src="https://apis.google.com/js/api.js"></script>

        <!--Javascript Inline-->
        <script type="text/javascript">
            // The Browser API key obtained from the Google Developers Console.
            // Replace with your own Browser API key, or your own key.
            var developerKey = 'AIzaSyCAR6UKdY5VGl2oCCbD9tJi5IfI7TK7WPs';
            // The Client ID obtained from the Google Developers Console. Replace with your own Client ID.
            var clientId = "759406020708-acqg5ibu2gh81lestg0t8vea08nqsh9l.apps.googleusercontent.com"
            // Replace with your own App ID. (Its the first number in your Client ID)
            var appId = "759406020708";
            // Scope to access user's Drive items.
            var scope = ['https://www.googleapis.com/auth/drive'];


            $(document).ready(function() {

                var gdriveAccessor = new gdrive({
                    developerKey: developerKey,
                    clientId: clientId,
                    appId: appId,
                    scope: scope,
                });

                $('#btnOpenPicker').click(function(){
                    gdriveAccessor.picker({
                        mimeTypes: "text/plain",
                        onSelected: function(fileId){
                            showFileContent(fileId);
                        }
                    });
                });

                function showFileContent(fileId){
                    $('#documentText').val('Loading....');
                    gdriveAccessor.getFileContent({
                        fileId: fileId,
                        dataType: 'text',
                        onSuccess: function(text){
                            $('#documentText').val(text);
                        }
                    })
                }

                gdriveAccessor.authorize();
                $('#documentText').val('');


            });
        </script>
    </head>
    <body>
        <button id="btnOpenPicker">Pick a file</button>
        <br/>
        <textarea id="documentText" style="height: 80%; width: 90%" readonly="readonly"></textarea>
    </body>
</html>
